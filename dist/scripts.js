let pokemonRepository=function(){let t=[],e=document.querySelector(".search"),n=document.querySelector(".pokemon-list");function i(){return t}function o(e){t.push(e)}function a(t){return fetch(t.detailsUrl).then(function(t){return t.json()}).then(function(e){t.imageFrontUrl=e.sprites.front_default,t.imageBackUrl=e.sprites.back_default,t.weight=e.weight,t.height=e.height,t.types=e.types.map(t=>t.type.name),t.abilities=e.abilities.map(t=>t.ability.name)}).catch(function(t){console.error(t)})}function r(t){return fetch(t.detailsUrl).then(function(t){return t.json()}).then(function(e){t.imageFrontUrl=e.sprites.front_default}).catch(function(t){console.error(t)})}function l(t){let e=$(".pokemon-list"),n=$('<li class="col"></li>'),i=$('<button id="poke-button" data-toggle="modal" data-target="#modal-container"><h5>'+t.name+"</h5></button>");n.append(i),e.append(n),r(t).then(function(){let e=$('<img src="'+t.imageFrontUrl+'" />');i.append(e),i.on("click",function(){(function t(e){a(e).then(function(){var t;let n,i,o,a,r,l,p,s,c;t=e,n=$(".modal-body"),i=$(".modal-title"),n.empty(),i.empty(),o=$("<h2>"+t.name+"</h2>"),a=$('<img class="img-modal" src="'+t.imageFrontUrl+'" />'),r=$('<img class="img-modal" src="'+t.imageBackUrl+'" />'),l=$("<p>Height : "+t.height/10+"m</p>"),p=$("<p>Weight : "+t.weight/10+"kg</p>"),s=$("<p>Types : "+t.types+"</p>"),c=$("<p>Abilities: "+t.abilities+"</p>"),i.append(o),n.append(a),n.append(r),n.append(l),n.append(p),n.append(s),n.append(c)})})(t)})})}return e.addEventListener("input",function(){let i=(o=e.value,t.filter(function(t){let e=t.name.toLowerCase(),n=o.toLowerCase();return e.startsWith(n)}));var o,a="Sorry. There are no Pok\xe9mon matching your search criteria.";let r;n.innerHTML="",0===i.length?(r=document.createElement("p"),r.classList.add("error-message"),r.classList.add("col"),r.innerText=a,n.appendChild(r)):i.forEach(l)}),{getAll:i,add:o,loadList:function t(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){o({name:t.name,detailsUrl:t.url})})}).catch(function(t){console.error(t)})},loadDetails:a,addListItem:l,loadImg:r}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});